<?xml version="1.0" encoding="UTF-8"?>
<Row id="{% set id = '{:0=8}'.format(range(0, 99999999) | random) %}{{ id }}" padding="p-0" draggable="element" expand="dynamic" >
    <Window id="modal-ia-{{ id }}" type="modal" size="normal" title="Create" action="terminal" >
        <Input identifier="answer" type="textarea" class="rounded-0" />
        <Input identifier="request" class="rounded-0" />
    </Window>
    <Column style="background-color:#ccc;">
        <Group type="nav" margin="m-0" padding="p-0" expand="dynamic">
            <Action route="tab:test-{{ id }}" class="d-inline-flex"><Graph icon="bi-nut-fill"/></Action>
            <Action route="tab:code-{{ id }}" class="d-inline-flex"><Graph icon="bi-file-code-fill"/></Action>
            <Action route="tab:view-{{ id }}" class="d-inline-flex"><Graph icon="bi-binoculars-fill"/></Action>
        </Group>
        <Action route="modal:modal-ia-{{ id }}" class="d-inline-flex"><Graph icon="bi-stars"/></Action>
        <Action click="save(model:'file',path:'{{ storekeeper.result.0.path }}',target:'block-editor-{{ id }}')" ><Graph icon="bi-floppy2-fill"/></Action>
    </Column>
    <Row droppable="element" padding="p-0" expand="dynamic" >
        <Group type="tab" expand="dynamic" class="overflow-auto">
            <Container id="test-{{ id }}" expand="full" padding="p-0">
                {% if 'parameters' in storekeeper %}
                <Storekeeper expand="full" method="gather" repository='file' payload="test(location:'{{storekeeper.parameters.payload.location}}',path:'{{ storekeeper.result.0.path | replace('.', '.test.') }}')" >
                    <Text id="block-test-{{ id }}" init="editor(target:'block-test-{{ id }}',path:'{{ storekeeper.result.0.path | replace('.', '.test.') }}')" class="editor h-100 border" storekeeper="result.0.content" type="editable"></Text>
                </Storekeeper>
                {% endif %}
            </Container>
            <Container id="code-{{ id }}" expand="full" padding="p-0">
                <Text id="block-editor-{{ id }}" init="editor(target:'block-editor-{{ id }}',path:'{{ storekeeper.result.0.path }}')" class="editor h-100 border" storekeeper="result.0.content" type="editable"></Text>
            </Container>
            <Container id="view-{{ id }}" expand="dynamic" class="overflow-auto" >
                {% if '.xml' in storekeeper.result.0.path %}
                    <View storekeeper="result.0.content" />
                {% endif %}
            </Container>
        </Group>
    </Row>
</Row>